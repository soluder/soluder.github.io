<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Django 官方提出的关于测试代码过多的建议 | Blog of 雪下逢春</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/logo.jpg">
    <meta name="description" content="不可破也，不可夺其坚。">
    
    <link rel="preload" href="/assets/css/0.styles.9962a72b.css" as="style"><link rel="preload" href="/assets/js/app.bc02c973.js" as="script"><link rel="preload" href="/assets/js/2.cacae8e2.js" as="script"><link rel="preload" href="/assets/js/42.131e0cb8.js" as="script"><link rel="prefetch" href="/assets/js/10.6fb2d21c.js"><link rel="prefetch" href="/assets/js/11.8b4b6e76.js"><link rel="prefetch" href="/assets/js/12.9f1f359d.js"><link rel="prefetch" href="/assets/js/13.d16ba13b.js"><link rel="prefetch" href="/assets/js/14.7ac0000f.js"><link rel="prefetch" href="/assets/js/15.7d6f7b73.js"><link rel="prefetch" href="/assets/js/16.21321365.js"><link rel="prefetch" href="/assets/js/17.b0a1c748.js"><link rel="prefetch" href="/assets/js/18.7a08fa30.js"><link rel="prefetch" href="/assets/js/19.7d3365bc.js"><link rel="prefetch" href="/assets/js/20.8c2c96c6.js"><link rel="prefetch" href="/assets/js/21.9eb75c24.js"><link rel="prefetch" href="/assets/js/22.2f656c9e.js"><link rel="prefetch" href="/assets/js/23.96006eba.js"><link rel="prefetch" href="/assets/js/24.ec8f503a.js"><link rel="prefetch" href="/assets/js/25.6cf7a761.js"><link rel="prefetch" href="/assets/js/26.8ba47012.js"><link rel="prefetch" href="/assets/js/27.927619ab.js"><link rel="prefetch" href="/assets/js/28.61f074e0.js"><link rel="prefetch" href="/assets/js/29.d3a32d6c.js"><link rel="prefetch" href="/assets/js/3.8667bc09.js"><link rel="prefetch" href="/assets/js/30.a81bb1cd.js"><link rel="prefetch" href="/assets/js/31.4b87319a.js"><link rel="prefetch" href="/assets/js/32.2953480c.js"><link rel="prefetch" href="/assets/js/33.2f6c71ea.js"><link rel="prefetch" href="/assets/js/34.a561c9dd.js"><link rel="prefetch" href="/assets/js/35.3362b9da.js"><link rel="prefetch" href="/assets/js/36.59713278.js"><link rel="prefetch" href="/assets/js/37.69e7ed55.js"><link rel="prefetch" href="/assets/js/38.3520b89f.js"><link rel="prefetch" href="/assets/js/39.06b85785.js"><link rel="prefetch" href="/assets/js/4.f5478292.js"><link rel="prefetch" href="/assets/js/40.7c44d11f.js"><link rel="prefetch" href="/assets/js/41.10150312.js"><link rel="prefetch" href="/assets/js/43.693f9873.js"><link rel="prefetch" href="/assets/js/44.a0d4937e.js"><link rel="prefetch" href="/assets/js/5.b926a7d7.js"><link rel="prefetch" href="/assets/js/6.924e8a3a.js"><link rel="prefetch" href="/assets/js/7.126c43c4.js"><link rel="prefetch" href="/assets/js/8.a1bf3709.js"><link rel="prefetch" href="/assets/js/9.75dbba86.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9962a72b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Blog of 雪下逢春</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/support/" class="nav-link">
  支持
</a></div><div class="nav-item"><a href="/blog/last.html" class="nav-link">
  最新
</a></div><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/python/" class="nav-link router-link-active">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/blog/java-spring-data-jpa/" class="nav-link">
  Java-Spring-Data-Jpa
</a></li><li class="dropdown-item"><!----> <a href="/blog/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/blog/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/blog/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-end/" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/blog/diary/" class="nav-link">
  日常
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/soluder/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/soluder/vuepress-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/support/" class="nav-link">
  支持
</a></div><div class="nav-item"><a href="/blog/last.html" class="nav-link">
  最新
</a></div><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/python/" class="nav-link router-link-active">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/blog/java-spring-data-jpa/" class="nav-link">
  Java-Spring-Data-Jpa
</a></li><li class="dropdown-item"><!----> <a href="/blog/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/blog/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/blog/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-end/" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/blog/diary/" class="nav-link">
  日常
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/soluder/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/soluder/vuepress-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/blog/" aria-current="page" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>日常</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java-Spring-Data-Jpa</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Python</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/python/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/blog/python/1.html" aria-current="page" class="active sidebar-link">Django 官方提出的关于测试代码过多的建议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/python/1.html#汉语" class="sidebar-link">汉语</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/python/1.html#当需要测试的时候-测试用例越多越好" class="sidebar-link">当需要测试的时候，测试用例越多越好</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/python/1.html#english" class="sidebar-link">English</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/python/1.html#when-testing-more-is-better" class="sidebar-link">When testing, more is better</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="django-官方提出的关于测试代码过多的建议"><a href="#django-官方提出的关于测试代码过多的建议" aria-hidden="true" class="header-anchor">#</a> Django 官方提出的关于测试代码过多的建议</h1> <p>翻官方文档的时候看到的，感觉不错，收藏一下</p> <h2 id="汉语"><a href="#汉语" aria-hidden="true" class="header-anchor">#</a> 汉语</h2> <h3 id="当需要测试的时候-测试用例越多越好"><a href="#当需要测试的时候-测试用例越多越好" aria-hidden="true" class="header-anchor">#</a> 当需要测试的时候，测试用例越多越好</h3> <p>貌似我们的测试多的快要失去控制了。按照这样发展下去，测试代码就要变得比应用的实际代码还要多了。而且测试代码大多都是重复且不优雅的，特别是在和业务代码比起来的时候，这种感觉更加明显。</p> <p><strong>但是这没关系！</strong> 就让测试代码继续肆意增长吧。大部分情况下，你写完一个测试之后就可以忘掉它了。在你继续开发的过程中，它会一直默默无闻地为你做贡献的。</p> <p>但有时测试也需要更新。想象一下如果我们修改了视图，只显示有选项的那些投票，那么只前写的很多测试就都会失败。但这也明确地告诉了我们哪些测试需要被更新，所以测试也会测试自己。</p> <p>最坏的情况是，当你继续开发的时候，发现之前的一些测试现在看来是多余的。但是这也不是什么问题，多做些测试也 不错。</p> <p>如果你对测试有个整体规划，那么它们就几乎不会变得混乱。下面有几条好的建议：</p> <ul><li>对于每个模型和视图都建立单独的 TestClass</li> <li>每个测试方法只测试一个功能</li> <li>给每个测试方法起个能描述其功能的名字</li></ul> <h2 id="english"><a href="#english" aria-hidden="true" class="header-anchor">#</a> English</h2> <h3 id="when-testing-more-is-better"><a href="#when-testing-more-is-better" aria-hidden="true" class="header-anchor">#</a> When testing, more is better</h3> <p>It might seem that our tests are growing out of control. At this rate there will soon be more code in our tests than in our application, and the repetition is unaesthetic, compared to the elegant conciseness of the rest of our code.</p> <p><strong>It doesn't matter.</strong> Let them grow. For the most part, you can write a test once and then forget about it. It will continue performing its useful function as you continue to develop your program.</p> <p>Sometimes tests will need to be updated. Suppose that we amend our views so that only Questions with Choices are published. In that case, many of our existing tests will fail - telling us exactly which tests need to be amended to bring them up to date, so to that extent tests help look after themselves.</p> <p>At worst, as you continue developing, you might find that you have some tests that are now redundant. Even that's not a problem; in testing redundancy is a good thing.</p> <p>As long as your tests are sensibly arranged, they won't become unmanageable. Good rules-of-thumb include having:</p> <ul><li>a separate TestClass for each model or view</li> <li>a separate test method for each set of conditions you want to test</li> <li>test method names that describe their function</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/soluder/vuepress-blog/edit/master/blog/python/1.md" target="_blank" rel="noopener noreferrer">帮助我改善此页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/python/" class="prev router-link-active">
        目录
      </a></span> <span class="next"><a href="/blog/front-end/">
        目录
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.bc02c973.js" defer></script><script src="/assets/js/2.cacae8e2.js" defer></script><script src="/assets/js/42.131e0cb8.js" defer></script>
  </body>
</html>
