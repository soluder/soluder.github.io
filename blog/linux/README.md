---
title: 目录
sidebar: false
prev: false
next: false
---
# 目录
## [  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/blog/" aria-current="page" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>日常</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java-Spring-Data-Jpa</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/linux/" aria-current="page" class="active sidebar-link">目录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/linux/#定时计划命令-crontab-的使用-解决-tomcat-日志定时清理问题" class="sidebar-link">定时计划命令 crontab 的使用，解决 Tomcat 日志定时清理问题</a></li></ul></li><li><a href="/blog/linux/1.html" class="sidebar-link">定时计划命令 crontab 的使用，解决 Tomcat 日志定时清理问题</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="目录"><a href="#目录" aria-hidden="true" class="header-anchor">#</a> 目录</h1> <h2 id="定时计划命令-crontab-的使用-解决-tomcat-日志定时清理问题"><a href="#定时计划命令-crontab-的使用-解决-tomcat-日志定时清理问题" aria-hidden="true" class="header-anchor">#</a> <a href="/blog/linux/1.html">定时计划命令 crontab 的使用，解决 Tomcat 日志定时清理问题</a></h2></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/blooddark/vuepress-blog/edit/master/blog/linux/README.md" target="_blank" rel="noopener noreferrer">帮助我改善此页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/5/3 18:36:49</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>](index.html)
## [定时计划命令 crontab 的使用，解决 Tomcat 日志定时清理问题](1.md)
## [  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/blog/" aria-current="page" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>日常</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java-Spring-Data-Jpa</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/linux/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/blog/linux/1.html" aria-current="page" class="active sidebar-link">定时计划命令 crontab 的使用，解决 Tomcat 日志定时清理问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/linux/1.html#背景" class="sidebar-link">背景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/linux/1.html#问题" class="sidebar-link">问题</a></li><li class="sidebar-sub-header"><a href="/blog/linux/1.html#解决过程" class="sidebar-link">解决过程</a></li><li class="sidebar-sub-header"><a href="/blog/linux/1.html#完善" class="sidebar-link">完善</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/linux/1.html#详细过程" class="sidebar-link">详细过程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/linux/1.html#清理日志的脚本" class="sidebar-link">清理日志的脚本</a></li><li class="sidebar-sub-header"><a href="/blog/linux/1.html#crontab-的使用" class="sidebar-link">crontab 的使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/linux/1.html#crontab命令详解" class="sidebar-link">crontab命令详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/linux/1.html#一、cron服务" class="sidebar-link">一、cron服务</a></li><li class="sidebar-sub-header"><a href="/blog/linux/1.html#二、cron配置文件的位置" class="sidebar-link">二、cron配置文件的位置</a></li><li class="sidebar-sub-header"><a href="/blog/linux/1.html#三、crontab格式说明" class="sidebar-link">三、crontab格式说明</a></li><li class="sidebar-sub-header"><a href="/blog/linux/1.html#四、crontab命令" class="sidebar-link">四、crontab命令</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="定时计划命令-crontab-的使用-解决-tomcat-日志定时清理问题"><a href="#定时计划命令-crontab-的使用-解决-tomcat-日志定时清理问题" aria-hidden="true" class="header-anchor">#</a> 定时计划命令 crontab 的使用，解决 Tomcat 日志定时清理问题</h1> <h2 id="背景"><a href="#背景" aria-hidden="true" class="header-anchor">#</a> 背景</h2> <h3 id="问题"><a href="#问题" aria-hidden="true" class="header-anchor">#</a> 问题</h3> <p>一个之前的项目，客户使用一年后，数据库执行SQL语句出现问题，报错<code>The table xxxx is full</code>，表空间满了。</p> <h3 id="解决过程"><a href="#解决过程" aria-hidden="true" class="header-anchor">#</a> 解决过程</h3> <p>检查服务器，发现服务器磁盘满了，但是用户数据只有7GB左右，硬盘是40GB的。找到Tomcat日志占空间32GB，清理Tomcat日志后程序正常运行。</p> <h3 id="完善"><a href="#完善" aria-hidden="true" class="header-anchor">#</a> 完善</h3> <p>编写清理日志的bash脚本，并使用crontab定时一个月执行一次，清理本月之前的日志。保留本月日志以排查问题。</p> <h2 id="详细过程"><a href="#详细过程" aria-hidden="true" class="header-anchor">#</a> 详细过程</h2> <h3 id="清理日志的脚本"><a href="#清理日志的脚本" aria-hidden="true" class="header-anchor">#</a> 清理日志的脚本</h3> <p>放在tomcat目录下的logs文件夹里即可。logs_path请自行替换。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>](1.html)
