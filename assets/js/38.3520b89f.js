(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{226:function(s,n,a){"use strict";a.r(n);var t=a(3),e=Object(t.a)({},function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"nginx安装-centos-7-3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx安装-centos-7-3","aria-hidden":"true"}},[s._v("#")]),s._v(" Nginx安装 (CentOS 7.3)")]),s._v(" "),n("p",[s._v("nginx可以使用各平台的默认包来安装，本文是介绍使用源码编译安装，包括具体的编译参数信息。")]),s._v(" "),n("h2",{attrs:{id:"安装环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装环境","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装环境")]),s._v(" "),n("p",[s._v("安装make：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("yum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc automake autoconf libtool "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("安装g++:")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc gcc-c++\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"ngnix-安装过程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ngnix-安装过程","aria-hidden":"true"}},[s._v("#")]),s._v(" Ngnix 安装过程")]),s._v(" "),n("p",[s._v("一般我们都需要先装pcre, zlib，前者为了重写rewrite，后者为了gzip压缩。\n本文选定的源码目录是/usr/local/src")]),s._v(" "),n("h3",{attrs:{id:"安装pcre库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装pcre库","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装PCRE库")]),s._v(" "),n("p",[s._v("请到这里找到自己想要版本的下载地址并替换文中的地址："),n("a",{attrs:{href:"https://ftp.pcre.org/pub/pcre/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://ftp.pcre.org/pub/pcre/"),n("OutboundLink")],1)]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cd")]),s._v(" /usr/local/src\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.37.tar.gz \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf pcre-8.37.tar.gz\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cd")]),s._v(" pcre-8.34\n./configure\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"安装zlib库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装zlib库","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装zlib库")]),s._v(" "),n("p",[s._v("请到这里找到自己想要版本的下载地址并替换文中的地址："),n("a",{attrs:{href:"http://www.zlib.net/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.zlib.net/"),n("OutboundLink")],1)]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cd")]),s._v(" /usr/local/src\n \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://zlib.net/zlib-1.2.8.tar.gz\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf zlib-1.2.8.tar.gz\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cd")]),s._v(" zlib-1.2.8\n./configure\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"安装ssl"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装ssl","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装ssl")]),s._v(" "),n("p",[s._v("请到这里找到自己想要版本的下载地址并替换文中的地址："),n("a",{attrs:{href:"https://www.openssl.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.openssl.org/"),n("OutboundLink")],1)]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cd")]),s._v(" /usr/local/src\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://www.openssl.org/source/openssl-1.0.1t.tar.gz\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf openssl-1.0.1t.tar.gz\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"安装nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装nginx")]),s._v(" "),n("p",[n("strong",[s._v("请注意自行替换")]),s._v("\n--with-pcre= 指的是pcre-8.34 的源码路径。\n--with-zlib== 指的是zlib-1.2.7 的源码路径。\n--with-openssl= 指的是zlib-1.2.7 的源码路径。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cd")]),s._v(" /usr/local/src\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://nginx.org/download/nginx-1.4.2.tar.gz\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf nginx-1.4.2.tar.gz\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cd")]),s._v(" nginx-1.4.2\n\n./configure --sbin-path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/nginx \\\n--conf-path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/nginx.conf \\\n--pid-path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/nginx.pid \\\n--with-http_ssl_module \\\n--with-pcre"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/app/openet/oetal1/chenhe/pcre-8.37 \\\n--with-zlib"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/app/openet/oetal1/chenhe/zlib-1.2.8 \\\n--with-openssl"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/app/openet/oetal1/chenhe/openssl-1.0.1t\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("安装成功后到 /usr/local/nginx 目录下")]),s._v(" "),n("h3",{attrs:{id:"启动nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动nginx","aria-hidden":"true"}},[s._v("#")]),s._v(" 启动nginx")]),s._v(" "),n("p",[s._v("/usr/local/nginx/nginx")])])},[],!1,null,null,null);n.default=e.exports}}]);